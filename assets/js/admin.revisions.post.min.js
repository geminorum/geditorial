!function(o,e,c){var d={action:e._base+"_"+c},n={purge:function(s){const a=o(s),i=a.parent(".misc-pub-section");s=a.data("parent");const t=i.find(".spinner");if(i.hasClass("-done"))return!1;o.ajax({url:e._url,method:"POST",data:{action:d.action,what:"purge",post_id:s,nonce:e[c]._nonce},beforeSend:function(s){t.addClass("is-active")},success:function(s,n,e){t.removeClass("is-active"),a.attr("disabled","disabled"),i.addClass("-done"),s.success?(i.append('<span class="dashicons dashicons-yes -success"></span>'),setTimeout(function(){i.fadeOut("slow",function(){o(this).remove()})},3500),o("#revisionsdiv").slideUp()):i.append('<span class="dashicons dashicons-warning -error"></span>')}})},del:function(s){const a=o(s),i=a.parents("li");var n=a.data("parent"),s=a.data("id");const t=i.find(".spinner");if(i.hasClass("-done"))return!1;o.ajax({url:e._url,method:"POST",data:{action:d.action,what:"delete",revision_id:s,post_id:n,nonce:e[c]._nonce},beforeSend:function(s){t.addClass("is-active")},success:function(s,n,e){t.removeClass("is-active"),a.attr("disabled","disabled"),i.addClass("-done"),s.success?(i.append('<span class="dashicons dashicons-yes -success"></span>'),setTimeout(function(){i.fadeOut("slow",function(){o(this).remove()})},3500)):i.append('<span class="dashicons dashicons-warning -error"></span>')}})}};o(function(){o("#revisionsdiv a.-delete").on("click",function(s){s.preventDefault(),n.del(this)}),o(".misc-pub-section.geditorial-admin-wrap.-revisions a.-purge").on("click",function(s){s.preventDefault(),n.purge(this)}),o(document).trigger("gEditorialReady",[c,n])})}(jQuery,gEditorial,"revisions");