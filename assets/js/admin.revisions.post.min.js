((o,d,c)=>{if(void 0!==d){let n={action:d._base+"_"+c},e={purge:function(s){let a=o(s),i=a.parent(".misc-pub-section");s=a.data("parent");let t=i.find(".spinner");if(i.hasClass("-done"))return!1;o.ajax({url:d._url,method:"POST",data:{action:n.action,what:"purge",post_id:s,nonce:d[c]._nonce},beforeSend:function(s){t.addClass("is-active")},success:function(s,e,n){t.removeClass("is-active"),a.attr("disabled","disabled"),i.addClass("-done"),s.success?(i.append('<span class="dashicons dashicons-yes -success"></span>'),setTimeout(function(){i.fadeOut("slow",function(){o(this).remove()})},3500),o("#revisionsdiv").slideUp()):i.append('<span class="dashicons dashicons-warning -error"></span>')}})},del:function(s){let a=o(s),i=a.parents("li");var s=a.data("parent"),e=a.data("id");let t=i.find(".spinner");if(i.hasClass("-done"))return!1;o.ajax({url:d._url,method:"POST",data:{action:n.action,what:"delete",revision_id:e,post_id:s,nonce:d[c]._nonce},beforeSend:function(s){t.addClass("is-active")},success:function(s,e,n){t.removeClass("is-active"),a.attr("disabled","disabled"),i.addClass("-done"),s.success?(i.append('<span class="dashicons dashicons-yes -success"></span>'),setTimeout(function(){i.fadeOut("slow",function(){o(this).remove()})},3500)):i.append('<span class="dashicons dashicons-warning -error"></span>')}})}};o(function(){o("#revisionsdiv a.-delete").on("click",function(s){s.preventDefault(),e.del(this)}),o(".misc-pub-section.geditorial-admin-wrap.-revisions a.-purge").on("click",function(s){s.preventDefault(),e.purge(this)}),o(document).trigger("gEditorialReady",[c,e])})}})(jQuery,gEditorial,"revisions");