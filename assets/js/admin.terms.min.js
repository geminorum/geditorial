!function(e,i,t){var n,a={action:i._base+"_"+t,classs:i._base+"-"+t},r={strings:e.extend({},{modal_title:"Choose an Image",modal_button:"Set as image"},i[t].strings||{}),modalImage:function(i,t){t.preventDefault(),n||(n=wp.media({title:this.strings.modal_title,button:{text:this.strings.modal_button},library:{type:"image"},multiple:!1}),n.on("select",function(){var t=n.state().get("selection").first().toJSON();""!==t&&(e(i).hasClass("-quick")?(e("a.-remove",".inline-edit-row").show(),e(':input[name="term-image"]',".inline-edit-row").val(t.id),e("img.-img",".inline-edit-row").attr("src",t.url).show()):(e("#"+a.classs+"-image-id").val(t.id),e("#"+a.classs+"-image-img").attr("src",t.url).show(),e("a.-remove").show()))})),n.open()},resetImage:function(i,t){t.preventDefault(),e(i).hasClass("-quick")?(e("a.-remove",".inline-edit-row").hide(),e(':input[name="term-image"]',".inline-edit-row").val(""),e("img.-img",".inline-edit-row").attr("src","").hide()):(e("#"+a.classs+"-image-id").val(0),e("#"+a.classs+"-image-img").attr("src","").hide(),e("a.-remove").hide())},inlineImage:function(i,t){var n=e("td.geditorial-terms-image img","#"+i),a=n.attr("src"),r=n.data("attachment");"undefined"!=typeof r?(e("a.-remove",".inline-edit-row").show(),e(':input[name="term-image"]',".inline-edit-row").val(r),e("img.-img",".inline-edit-row").attr("src",a).show()):(e("a.-remove",".inline-edit-row").hide(),e(':input[name="term-image"]',".inline-edit-row").val(""),e("img.-img",".inline-edit-row").attr("src","").hide())},inlineColor:function(i,t){var n=e("td."+a.classs+"-color i","#"+i).attr("data-color");e(':input[name="term-color"]',".inline-edit-row").val(n)},inlineOrder:function(i,t){var n=e("td."+a.classs+"-order span.order","#"+i).attr("data-order");e(':input[name="term-order"]',".inline-edit-row").val(n)},inlineText:function(i,t,n){var r=e("td."+a.classs+"-"+i+" span."+i,"#"+t).attr("data-"+i);e(':input[name="term-'+i+'"]',".inline-edit-row").val(r)},inlineSelect:function(i,t,n){var r=e("td."+a.classs+"-"+i+" span."+i,"#"+t).attr("data-"+i),o=e(':input[name="term-'+i+'"]',".inline-edit-row");o.find("option:selected").attr("selected",!1),o.find('option[value="'+r+'"]').attr("selected",!0)}};e(function(){e("#addtag, #edittag, #the-list").on("click",".-modal",function(e){r.modalImage(this,e)}).on("click",".-remove",function(e){r.resetImage(this,e)}),e("#the-list").on("click",".editinline",function(i){var t=e(this).parents("tr").attr("id");r.inlineImage(t,i),r.inlineColor(t,i),r.inlineOrder(t,i),r.inlineText("tagline",t,i),r.inlineSelect("author",t,i),r.inlineSelect("role",t,i),r.inlineSelect("posttype",t,i)}),e(document).on("term-added",function(i){r.resetImage(e("#addtag #submit"),i)}),"object"==typeof e.wp&&"function"==typeof e.wp.wpColorPicker&&e("#"+a.classs+"-color-id").wpColorPicker(),e(document).trigger("gEditorialReady",[t,r])})}(jQuery,gEditorial,"terms");