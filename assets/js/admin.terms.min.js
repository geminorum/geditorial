(function(d,e,g,a){var b,f={action:e._base+"_"+a,classs:e._base+"-"+a,strings:d.extend({},{modal_title:"Choose an Image",modal_button:"Set as image",},e[a].strings||{}),modalImage:function(c,h){h.preventDefault();if(!b){b=wp.media({title:this.strings.modal_title,button:{text:this.strings.modal_button},library:{type:"image"},multiple:false,});b.on("select",function(){var i=b.state().get("selection").first().toJSON();if(""!==i){if(!d(c).hasClass("-quick")){d("#"+f.classs+"-image-id").val(i.id);d("#"+f.classs+"-image-img").attr("src",i.url).show();d("a.-remove").show()}else{d("a.-remove",".inline-edit-row").show();d(':input[name="term-image"]',".inline-edit-row").val(i.id);d("img.-img",".inline-edit-row").attr("src",i.url).show()}}})}b.open()},resetImage:function(c,h){h.preventDefault();if(!d(c).hasClass("-quick")){d("#"+f.classs+"-image-id").val(0);d("#"+f.classs+"-image-img").attr("src","").hide();d("a.-remove").hide()}else{d("a.-remove",".inline-edit-row").hide();d(':input[name="term-image"]',".inline-edit-row").val("");d("img.-img",".inline-edit-row").attr("src","").hide()}},inlineImage:function(c,h){var i=d("td.geditorial-terms-image img","#"+c),j=i.attr("src"),k=i.data("attachment");if(typeof(k)!=="undefined"){d("a.-remove",".inline-edit-row").show();d(':input[name="term-image"]',".inline-edit-row").val(k);d("img.-img",".inline-edit-row").attr("src",j).show()}else{d("a.-remove",".inline-edit-row").hide();d(':input[name="term-image"]',".inline-edit-row").val("");d("img.-img",".inline-edit-row").attr("src","").hide()}},inlineColor:function(c,i){var h=d("td.geditorial-terms-color i","#"+c).attr("data-color");d(':input[name="term-color"]',".inline-edit-row").val(h)},inlineOrder:function(h,i){var c=d("td.geditorial-terms-order span.order","#"+h).attr("data-order");d(':input[name="term-order"]',".inline-edit-row").val(c)},inlineAuthor:function(c,j){var i=d("td.geditorial-terms-author span.author","#"+c).attr("data-author"),h=d(':input[name="term-author"]',".inline-edit-row");h.find("option:selected").attr("selected",false);h.find('option[value="'+i+'"]').attr("selected",true)},};d(function(){d("#addtag, #edittag, #the-list").on("click",".-modal",function(c){f.modalImage(this,c)}).on("click",".-remove",function(c){f.resetImage(this,c)});d("#the-list").on("click","a.editinline",function(h){var c=d(this).parents("tr").attr("id");f.inlineImage(c,h);f.inlineColor(c,h);f.inlineOrder(c,h);f.inlineAuthor(c,h)});d(document).on("term-added",function(c){f.resetImage(d("#addtag #submit"),c)});if(typeof d.wp==="object"&&typeof d.wp.wpColorPicker==="function"){d("#"+f.classs+"-color-id").wpColorPicker()}})}(jQuery,gEditorial,gEditorialModules,"terms"));