(function(e,d,a){var c;var b={action:d._base+"_"+a,classs:d._base+"-"+a};var f={strings:e.extend({},{modal_title:"Choose an Image",modal_button:"Set as image"},d[a].strings||{}),modalImage:function(g,h){h.preventDefault();if(!c){c=wp.media({title:this.strings.modal_title,button:{text:this.strings.modal_button},library:{type:"image"},multiple:false});c.on("select",function(){var i=c.state().get("selection").first().toJSON();if(i!==""){if(!e(g).hasClass("-quick")){e("#"+b.classs+"-image-id").val(i.id);e("#"+b.classs+"-image-img").attr("src",i.url).show();e("a.-remove").show()}else{e("a.-remove",".inline-edit-row").show();e(':input[name="term-image"]',".inline-edit-row").val(i.id);e("img.-img",".inline-edit-row").attr("src",i.url).show()}}})}c.open()},resetImage:function(g,h){h.preventDefault();if(!e(g).hasClass("-quick")){e("#"+b.classs+"-image-id").val(0);e("#"+b.classs+"-image-img").attr("src","").hide();e("a.-remove").hide()}else{e("a.-remove",".inline-edit-row").hide();e(':input[name="term-image"]',".inline-edit-row").val("");e("img.-img",".inline-edit-row").attr("src","").hide()}},inlineImage:function(g,h){var i=e("td.geditorial-terms-image img","#"+g);var j=i.attr("src");var k=i.data("attachment");if(typeof k!=="undefined"){e("a.-remove",".inline-edit-row").show();e(':input[name="term-image"]',".inline-edit-row").val(k);e("img.-img",".inline-edit-row").attr("src",j).show()}else{e("a.-remove",".inline-edit-row").hide();e(':input[name="term-image"]',".inline-edit-row").val("");e("img.-img",".inline-edit-row").attr("src","").hide()}},inlineColor:function(g,h){var i=e("td.geditorial-terms-color i","#"+g).attr("data-color");e(':input[name="term-color"]',".inline-edit-row").val(i)},inlineOrder:function(g,h){var i=e("td.geditorial-terms-order span.order","#"+g).attr("data-order");e(':input[name="term-order"]',".inline-edit-row").val(i)},inlineSelect:function(k,g,i){var j=e("td."+b.classs+"-"+k+" span."+k,"#"+g).attr("data-"+k);var h=e(':input[name="term-'+k+'"]',".inline-edit-row");h.find("option:selected").attr("selected",false);h.find('option[value="'+j+'"]').attr("selected",true)}};e(function(){e("#addtag, #edittag, #the-list").on("click",".-modal",function(g){f.modalImage(this,g)}).on("click",".-remove",function(g){f.resetImage(this,g)});e("#the-list").on("click","a.editinline",function(h){var g=e(this).parents("tr").attr("id");f.inlineImage(g,h);f.inlineColor(g,h);f.inlineOrder(g,h);f.inlineSelect("author",g,h);f.inlineSelect("role",g,h);f.inlineSelect("posttype",g,h)});e(document).on("term-added",function(g){f.resetImage(e("#addtag #submit"),g)});if(typeof e.wp==="object"&&typeof e.wp.wpColorPicker==="function"){e("#"+b.classs+"-color-id").wpColorPicker()}e(document).trigger("gEditorialReady",[a,f])})}(jQuery,gEditorial,"terms"));