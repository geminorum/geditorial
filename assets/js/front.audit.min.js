!function(i,n,a){var o={action:n._base+"_"+a,wrap:"#wpadminbar ."+n._base+"-"+a+".-wrap",button:"#wpadminbar ."+n._base+"-"+a+".-action a.ab-item",spinner:".geditorial-spinner"};const c={empty:!0,watch:function(){i(":input",o.wrap).change(t.debounce(function(){c.store()},1e3))},store:function(){var t=i(":input",o.wrap).serialize();const e=i(o.button).find(o.spinner);i.ajax({url:n._url,method:"POST",data:{action:o.action,what:"store",post_id:n[a].post_id,nonce:n[a]._nonce,data:t},beforeSend:function(t){e.addClass("is-active")},success:function(t,n,a){e.removeClass("is-active"),t.success&&(i(o.wrap).html(t.data),c.watch())}})},populate:function(){if(c.empty){const e=i(o.button).find(o.spinner);i.ajax({url:n._url,method:"POST",data:{action:o.action,what:"list",post_id:n[a].post_id,nonce:n[a]._nonce},beforeSend:function(t){e.addClass("is-active")},success:function(t,n,a){e.removeClass("is-active"),t.success&&(i(o.wrap).html(t.data),c.empty=!1,c.watch())}})}}},t={debounce:function(a,e){let i=null;return function(){var t=c,n=arguments;clearTimeout(i),i=setTimeout(function(){a.apply(t,n)},e)}}};i(function(){i(o.button).click(function(t){t.preventDefault(),c.populate()}),i(document).trigger("gEditorialReady",[a,c])})}(jQuery,gEditorial,"audit");