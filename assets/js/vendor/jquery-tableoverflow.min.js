/**
* jquery-tableoverflow.js
* https://github.com/marcogrcr/jquery-tableoverflow
*
* License of use:
*
* 1. You may use and modify this plugin as you see fit.
* 2. Please credit the original author by preserving this header :)
*/
(function($){var $tables=$(),timeout=null;function onResize(){if(timeout){clearTimeout(timeout);}timeout=setTimeout(resizeColumns,200);}function resizeColumns(){$tables.each(function(){if(!$.contains(document.documentElement,this)){$tables=$tables.not(this);}});$tables.each(function(){var $table=$(this);var $columns=$('colgroup col',$table).css('width','').map(function(i){return{$col:$(this),$th:$('thead th:eq('+i+')',$table)};});while($columns.length){$columns.each(function(){var actualWidth=this.$th.outerWidth(),minWidth=this.$col.data('tableoverflow-min-width'),maxWidth=this.$col.data('tableoverflow-max-width');if(actualWidth<minWidth||actualWidth>maxWidth){if(actualWidth<minWidth){this.$col.css('width',minWidth);}else{this.$col.css('width',maxWidth);}var self=this;$columns=$columns.filter(function(){return this!=self;});}else{if(!this.visited){this.visited=true;}else{var self=this;$columns=$columns.filter(function(){return this!=self;});}}});}$('tbody td',$table).each(function(){var $span=$('span',this);if($span.width()>$(this).width()){$span.attr('title',$.trim($span.text()));}else{$span.removeAttr('title');}});});}$.fn.tableoverflow=function(){$(this).each(function(){var $table=$(this);if($table.has('thead')&&!$tables.is($table)){var $colgroup=$('<colgroup />');$table.css({'table-layout':'fixed','white-space':'nowrap'}).prepend($colgroup).find('thead th, tbody td').css({'overflow':'hidden','text-overflow':'ellipsis'});$('thead th',$table).each(function(i){var $th=$(this);var $cells=$('tbody td:nth-child('+(i+1)+')',$table).add($th);$cells.filter(':not(:has(span))').wrapInner($('<span data-tableoverflow-autogenerated="true" />'));var $spans=$cells.find('span').css('display','inline-block');var widths=$spans.map(function(){return $(this).width();}).get();$spans.css('display','');var padding=$th.outerWidth()-$th.width();$('<col />').attr({'data-tableoverflow-min-width':$('span',$th).width()+padding+2,'data-tableoverflow-max-width':Math.max.apply(Math,widths)+padding+2}).appendTo($colgroup);});$tables=$tables.add($table);resizeColumns();}});}$.tableoverflow={};$.tableoverflow.removeTable=function($table){$tables.each(function(){if($tables.is(this)){$(this).css({'table-layout':'','white-space':''}).find('th, td').css({'overflow':'','text-overflow':''}).find('span').removeAttr('title').filter('[data-tableoverflow-autogenerated]').each(function(){var $span=$(this);$span.parent().html($span.html());});$('colgroup',this).remove();$tables=$tables.not(this);}});}$(window).on('resize',onResize);})(jQuery);
