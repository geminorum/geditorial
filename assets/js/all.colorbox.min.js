((i,a,e)=>{let r={overlay:"#cboxOverlay",trigger:"a.do-"+e+"-iframe, .do-"+e+"-iframe-for-child > a",parent:"do-"+e+"-iframe-for-child",before:"do-"+e+"-iframe",after:"hooked-"+e+"-iframe",pot:"."+a._base+"-"+e+"-pot"},d={inOut:(e,t)=>{i(e).fadeOut("fast",function(){i(this).html(t).fadeIn()})},mobile:()=>i(window).width()<=782,prop:(e,t)=>t.split(".").reduce((e,t)=>e[t],e)},n={request:null,refresh:function(t){let o=t.data("refresh");var e=t.data("route");o&&e&&(n.request=wp.apiRequest({url:a._restBase+e,type:"GET",dataType:"json"}).done(e=>{d.inOut(t.data("pot")||t.closest(r.pot),d.prop(e,o))}).fail(e=>{console.log(e)}))},hook:function(a){i(r.trigger).each(function(){let o=i(this);o.on("click",function(e){e.preventDefault();let t={href:o.attr("href"),title:!a&&o.attr("title"),escKey:!0,iframe:!0,fastIframe:!1,transition:"none",width:a?"100%":o.data("width")||"95%",height:a?"100%":o.data("width")||"85%",maxWidth:a?"100%":o.data("max-width")||"980",maxHeight:a?"100%":o.data("max-height")||"640",onClosed:function(){n.refresh(o),i.event.trigger({type:"gEditorial:ColorBox:Closed",passedData:o.data(),passedLink:o.attr("href"),passedTitle:o.attr("title"),colorboxType:"iframe"})}};i.colorbox(t),i(window).on("resize",function(){i.colorbox.resize({width:window.innerWidth>parseInt(t.maxWidth)?t.maxWidth:t.width,height:window.innerHeight>parseInt(t.maxHeight)?t.maxHeight:t.height})})}),o.removeClass(r.before).parent(r.parent),o.addClass(r.after)})}};i(window).load(function(){n.hook(d.mobile()),i(document).on("gEditorial:ColorBox:Hook",function(){n.hook()}),i(document).trigger("gEditorial:Module:Loaded",[e,n])})})(jQuery,gEditorial,"colorbox");