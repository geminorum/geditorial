((a,o,t)=>{let r={overlay:"#cboxOverlay",trigger:"a.do-"+t+"-iframe, .do-"+t+"-iframe-for-child > a",parent:"do-"+t+"-iframe-for-child",before:"do-"+t+"-iframe",after:"hooked-"+t+"-iframe",pot:"."+o._base+"-"+t+"-pot"},n={inOut:(t,e)=>{a(t).fadeOut("fast",function(){a(this).html(e).fadeIn()})},mobile:()=>a(window).width()<=782,prop:(t,e)=>e.split(".").reduce((t,e)=>t[e],t)},d={request:null,refresh:function(e){let i=e.data("refresh");var t=e.data("route");i&&t&&(d.request=wp.apiRequest({url:o._restBase+t,type:"GET",dataType:"json"}).done(t=>{n.inOut(e.data("pot")||e.closest(r.pot),n.prop(t,i))}).fail(t=>{console.log(t)}))},init:function(o){a(r.trigger).each(function(){let i=a(this);i.on("click",function(t){t.preventDefault();let e={href:i.attr("href"),title:!o&&i.attr("title"),escKey:!0,iframe:!0,fastIframe:!1,transition:"none",width:o?"100%":i.data("width")||"95%",height:o?"100%":i.data("width")||"85%",maxWidth:o?"100%":i.data("max-width")||"980",maxHeight:o?"100%":i.data("max-height")||"640",onClosed:function(){d.refresh(i),a.event.trigger({type:"gEditorial:ColorBox:Closed",passedData:i.data(),passedLink:i.attr("href"),passedTitle:i.attr("title"),colorboxType:"iframe"})}};a.colorbox(e),a(window).on("resize",function(){a.colorbox.resize({width:window.innerWidth>parseInt(e.maxWidth)?e.maxWidth:e.width,height:window.innerHeight>parseInt(e.maxHeight)?e.maxHeight:e.height})})}),i.removeClass(r.before).parent(r.parent),i.addClass(r.after)})}};a(window).load(function(){a(document).on("gEditorial:ColorBox:Hook",function(){d.init()}),a(document).trigger("gEditorial:Module:Loaded",[t,"all",d,d.init(n.mobile())])})})(jQuery,gEditorial,"colorbox");