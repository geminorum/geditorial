(function(c,d,a,b){var e={};e.s=c.extend({},{qtag_orthography:"Orthography!",qtag_orthography_title:"Apply Orthography!",qtag_tostandard:"Standard!",qtag_tostandard_title:"To Standard!"},{});e.u={pF:function(g){var f={};g=g.replace(/<a[^h]*(?=href="[^"]*#_(?:ftn|edn|etc)ref([0-9]+)")[^>]*>\[([0-9]+)\]<\/a>(.*)/g,function(h,k,j,i){f[k]=i.replace(/^\s*./,"").trim();return""});return g.replace(/<a[^h]*(?=href="[^"]*#_(?:ftn|edn|etc)([0-9]+)")[^>]*>(?:<\w+>)*\[([0-9]+)\](?:<\/\w+>)*<\/a>/g,function(h,l,k,j,i){return"[ref]"+f[l].replace(/\r\n|\r|\n/g," ").trim()+"[/ref]"})},sQ:function(f){return f.replace(/(»)(.+?)(«)/g,"«$2»").replace(/(”)(.+?)(“)/g,"“$2”")},tP:function(g){var f="۰".charCodeAt(0);return g.toString().replace(/\d+/g,function(h){return h.split("").map(function(i){return String.fromCharCode(f+parseInt(i))}).join("")})},tE:function(f){return f.toString().replace(/[۱۲۳۴۵۶۷۸۹۰]+/g,function(g){return g.split("").map(function(h){return h.charCodeAt(0)%1776}).join("")})},downloadText:function(f,h){var g=document.createElement("a");g.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(h));g.setAttribute("download",f);g.style.display="none";document.body.appendChild(g);g.click();document.body.removeChild(g)}};e.q={orthography:function(h,i,f){var g=i.value.substring(i.selectionStart,i.selectionEnd);if(g!==""){QTags.insertContent(persianTools.applyOrthography(g))}else{c(i).val(persianTools.applyOrthography(c(i).val()))}},tostandard:function(h,i,f){var g=i.value.substring(i.selectionStart,i.selectionEnd);if(g!==""){QTags.insertContent(persianTools.toStandardPersianCharacters(g))}else{c(i).val(persianTools.toStandardPersianCharacters(c(i).val()))}}};c(function(){if(typeof QTags!=="undefined"){for(var f in e.q){QTags.addButton(f,e.s["qtag_"+f],e.q[f],"","",e.s["qtag_"+f+"_title"])}}c(document).trigger("gEditorialReady",[a,e,b])})}(jQuery,gEditorial,"ortho","persiantools"));