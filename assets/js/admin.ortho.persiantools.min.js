((a,t)=>{if(void 0!==t){let e={};e.s=a.extend({},{qtag_orthography:"Orthography!",qtag_orthography_title:"Apply Orthography!",qtag_tostandard:"Standard!",qtag_tostandard_title:"To Standard!"},{}),e.u={pF:function(t){let o={};return(t=t.replace(/<a[^h]*(?=href="[^"]*#_(?:ftn|edn|etc)ref([0-9]+)")[^>]*>\[([0-9]+)\]<\/a>(.*)/g,function(t,e,r,n){return o[e]=n.replace(/^\s*./,"").trim(),""})).replace(/<a[^h]*(?=href="[^"]*#_(?:ftn|edn|etc)([0-9]+)")[^>]*>(?:<\w+>)*\[([0-9]+)\](?:<\/\w+>)*<\/a>/g,function(t,e,r,n,a){return"[ref]"+o[e].replace(/\r\n|\r|\n/g," ").trim()+"[/ref]"})},sQ:function(t){return t.replace(/(»)(.+?)(«)/g,"«$2»").replace(/(”)(.+?)(“)/g,"“$2”")},tP:function(t){let e="۰".charCodeAt(0);return t.toString().replace(/\d+/g,function(t){return t.split("").map(function(t){return String.fromCharCode(e+parseInt(t))}).join("")})},tE:function(t){return t.toString().replace(/[۱۲۳۴۵۶۷۸۹۰]+/g,function(t){return t.split("").map(function(t){return t.charCodeAt(0)%1776}).join("")})},downloadText:function(t,e){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}},e.q={orthography:function(t,e,r){var n=e.value.substring(e.selectionStart,e.selectionEnd);""!==n?QTags.insertContent(persianTools.applyOrthography(n)):a(e).val(persianTools.applyOrthography(a(e).val()))},tostandard:function(t,e,r){var n=e.value.substring(e.selectionStart,e.selectionEnd);""!==n?QTags.insertContent(persianTools.toStandardPersianCharacters(n)):a(e).val(persianTools.toStandardPersianCharacters(a(e).val()))}},a(function(){if("undefined"!=typeof QTags)for(var t in e.q)QTags.addButton(t,e.s["qtag_"+t],e.q[t],"","",e.s["qtag_"+t+"_title"]);a(document).trigger("gEditorialReady",["ortho",e,"persiantools"])})}})(jQuery,gEditorial);