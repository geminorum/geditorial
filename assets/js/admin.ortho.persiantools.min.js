!function(a){const n={};n.s=a.extend({},{qtag_orthography:"Orthography!",qtag_orthography_title:"Apply Orthography!",qtag_tostandard:"Standard!",qtag_tostandard_title:"To Standard!"},{}),n.u={pF:function(t){const o={};return(t=t.replace(/<a[^h]*(?=href="[^"]*#_(?:ftn|edn|etc)ref([0-9]+)")[^>]*>\[([0-9]+)\]<\/a>(.*)/g,function(t,n,r,e){return o[n]=e.replace(/^\s*./,"").trim(),""})).replace(/<a[^h]*(?=href="[^"]*#_(?:ftn|edn|etc)([0-9]+)")[^>]*>(?:<\w+>)*\[([0-9]+)\](?:<\/\w+>)*<\/a>/g,function(t,n,r,e,a){return"[ref]"+o[n].replace(/\r\n|\r|\n/g," ").trim()+"[/ref]"})},sQ:function(t){return t.replace(/(»)(.+?)(«)/g,"«$2»").replace(/(”)(.+?)(“)/g,"“$2”")},tP:function(t){const n="۰".charCodeAt(0);return t.toString().replace(/\d+/g,function(t){return t.split("").map(function(t){return String.fromCharCode(n+parseInt(t))}).join("")})},tE:function(t){return t.toString().replace(/[۱۲۳۴۵۶۷۸۹۰]+/g,function(t){return t.split("").map(function(t){return t.charCodeAt(0)%1776}).join("")})},downloadText:function(t,n){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}},n.q={orthography:function(t,n,r){var e=n.value.substring(n.selectionStart,n.selectionEnd);""!==e?QTags.insertContent(persianTools.applyOrthography(e)):a(n).val(persianTools.applyOrthography(a(n).val()))},tostandard:function(t,n,r){var e=n.value.substring(n.selectionStart,n.selectionEnd);""!==e?QTags.insertContent(persianTools.toStandardPersianCharacters(e)):a(n).val(persianTools.toStandardPersianCharacters(a(n).val()))}},a(function(){if("undefined"!=typeof QTags)for(var t in n.q)QTags.addButton(t,n.s["qtag_"+t],n.q[t],"","",n.s["qtag_"+t+"_title"]);a(document).trigger("gEditorialReady",["ortho",n,"persiantools"])})}(jQuery,gEditorial);