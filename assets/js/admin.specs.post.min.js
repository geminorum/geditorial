!function(o,e,n){var i={action:e._base+"_"+n,classs:e._base+"-"+n,wrap:"ol."+e._base+"-"+n+"-list",raw:"ul."+e._base+"-"+n+"-new",body:".item-body"};const t={reOrder:function(){const e=o("input.item-order");var n=e.length;e.each(function(e){o(this).val(n-e)})},expandItem:function(e){o(i.body,i.wrap).slideUp();const n=o(e).parent().parent().find(i.body);n.is(":visible")||n.slideDown()},removeItem:function(e){o(e).closest("li").slideUp("normal",function(){o(this).remove()})},newItem:function(e){if(o(e).parents(i.wrap).length)return!1;var n=o(e).find(":selected").val();if("-1"===n)return!1;o(i.body,i.wrap).slideUp();const t=o("li",i.raw).clone(!0);o(e).find(":selected").prop("disabled",!0),t.find("select.item-dropdown-new").removeClass("item-dropdown-new"),t.find("span.-excerpt").html(o(e).find(":selected").text()),t.find('select.item-dropdown option[value="-1"]').remove(),t.find('select.item-dropdown option[value="'+n+'"]').selected=!0,t.appendTo(i.wrap),t.find(i.body).slideDown(),t.find("textarea").focus(),this.reOrder()}};o(function(){o("select.item-dropdown-new",i.raw).change(function(){return t.newItem(this)}),o("body").on("click",i.wrap+" .-delete",function(e){e.preventDefault(),t.removeItem(this)}),o("body").on("click",i.wrap+" .-excerpt",function(e){e.preventDefault(),t.expandItem(this)}),o(i.wrap).sortable({group:i.classs,handle:".-handle",stop:function(){t.reOrder()}}),o(document).trigger("gEditorialReady",[n,t])})}(jQuery,gEditorial,"specs");