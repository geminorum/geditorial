!function(i,e,n){let r={action:e._base+"_"+n,classs:e._base+"-"+n,wrap:"ol."+e._base+"-"+n+"-list",raw:"ul."+e._base+"-"+n+"-new",body:".item-body"},o={reOrder:function(){var e=i("input.item-order");let n=e.length;e.each(function(e){i(this).val(n-e)})},expandItem:function(e){i(r.body,r.wrap).slideUp();e=i(e).parent().parent().find(r.body);e.is(":visible")||e.slideDown()},removeItem:function(e){i(e).closest("li").slideUp("normal",function(){i(this).remove()})},newItem:function(e){if(i(e).parents(r.wrap).length)return!1;var n=i(e).find(":selected").val();if("-1"===n)return!1;i(r.body,r.wrap).slideUp();var t=i("li",r.raw).clone(!0);i(e).find(":selected").prop("disabled",!0),t.find("select.item-dropdown-new").removeClass("item-dropdown-new"),t.find("span.-excerpt").html(i(e).find(":selected").text()),t.find('select.item-dropdown option[value="-1"]').remove(),t.find('select.item-dropdown option[value="'+n+'"]').selected=!0,t.appendTo(r.wrap),t.find(r.body).slideDown(),t.find("textarea").trigger("focus"),this.reOrder()}};i(function(){i("select.item-dropdown-new",r.raw).on("change",function(){return o.newItem(this)}),i("body").on("click",r.wrap+" .-delete",function(e){e.preventDefault(),o.removeItem(this)}),i("body").on("click",r.wrap+" .-excerpt",function(e){e.preventDefault(),o.expandItem(this)}),i(r.wrap).sortable({group:r.classs,handle:".-handle",onDrop:function(e,n,t){o.reOrder(),t(e,n)}}),i(document).trigger("gEditorialReady",[n,o])})}(jQuery,gEditorial,"specs");