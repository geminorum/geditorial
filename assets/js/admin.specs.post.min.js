((r,e,n)=>{let i={action:e._base+"_"+n,classs:e._base+"-"+n,wrap:"ol."+e._base+"-"+n+"-list",raw:"ul."+e._base+"-"+n+"-new",body:".item-body"},o={reOrder:function(){var e=r("input.item-order");let n=e.length;e.each(function(e){r(this).val(n-e)})},expandItem:function(e){r(i.body,i.wrap).slideUp();e=r(e).parent().parent().find(i.body);e.is(":visible")||e.slideDown()},removeItem:function(e){r(e).closest("li").slideUp("normal",function(){r(this).remove()})},newItem:function(e){if(r(e).parents(i.wrap).length)return!1;var n=r(e).find(":selected").val();if("-1"===n)return!1;r(i.body,i.wrap).slideUp();var t=r("li",i.raw).clone(!0);r(e).find(":selected").prop("disabled",!0),t.find("select.item-dropdown-new").removeClass("item-dropdown-new"),t.find("span.-excerpt").html(r(e).find(":selected").text()),t.find('select.item-dropdown option[value="-1"]').remove(),t.find('select.item-dropdown option[value="'+n+'"]').selected=!0,t.appendTo(i.wrap),t.find(i.body).slideDown(),t.find("textarea").trigger("focus"),this.reOrder()}};r(function(){r("select.item-dropdown-new",i.raw).on("change",function(){return o.newItem(this)}),r("body").on("click",i.wrap+" .-delete",function(e){e.preventDefault(),o.removeItem(this)}),r("body").on("click",i.wrap+" .-excerpt",function(e){e.preventDefault(),o.expandItem(this)}),r(i.wrap).sortable({group:i.classs,handle:".-handle",onDrop:function(e,n,t){o.reOrder(),t(e,n)}}),r(document).trigger("gEditorialReady",[n,o])})})(jQuery,gEditorial,"specs");