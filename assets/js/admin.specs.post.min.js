!function(e,n,t){var i={action:n._base+"_"+t,classs:n._base+"-"+t,wrap:"ol."+n._base+"-"+t+"-list",raw:"ul."+n._base+"-"+t+"-new",body:".item-body"},r={reOrder:function(){var n=e("input.item-order"),t=n.length;n.each(function(n){e(this).val(t-n)})},expandItem:function(n){e(i.body,i.wrap).slideUp();var t=e(n).parent().parent().find(i.body);t.is(":visible")||t.slideDown()},removeItem:function(n){e(n).closest("li").slideUp("normal",function(){e(this).remove()})},newItem:function(n){if(e(n).parents(i.wrap).length)return!1;var t=e(n).find(":selected").val();if("-1"===t)return!1;e(i.body,i.wrap).slideUp();var r=e("li",i.raw).clone(!0);e(n).find(":selected").prop("disabled",!0),r.find("select.item-dropdown-new").removeClass("item-dropdown-new"),r.find("span.-excerpt").html(e(n).find(":selected").text()),r.find('select.item-dropdown option[value="-1"]').remove(),r.find('select.item-dropdown option[value="'+t+'"]').selected=!0,r.appendTo(i.wrap),r.find(i.body).slideDown(),r.find("textarea").focus(),this.reOrder()}};e(function(){e("select.item-dropdown-new",i.raw).change(function(){return r.newItem(this)}),e("body").on("click",i.wrap+" .-delete",function(e){e.preventDefault(),r.removeItem(this)}),e("body").on("click",i.wrap+" .-excerpt",function(e){e.preventDefault(),r.expandItem(this)}),e(i.wrap).sortable({group:i.classs,handle:".-handle",stop:function(){r.reOrder()}}),e(document).trigger("gEditorialReady",[t,r])})}(jQuery,gEditorial,"specs");