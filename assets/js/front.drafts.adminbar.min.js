((a,t,e)=>{let o={action:t._base+"_"+e,wrap:"#"+t._base+"-"+e+"-wrap",button:"#wp-admin-bar-"+t._base+"-"+e+" > .ab-item",spinner:"."+t._base+"-spinner"},s={empty:!0,wrap:'<div id="'+t._base+"-"+e+'-wrap" class="geditorial-wrap -drafts" style="display:none;"><div class="-content"></div></div>',init:function(){a(o.button).on("click",function(t){t.preventDefault(),s.populate()})},toggle:function(){a(o.wrap).is(":visible")?a(o.wrap).slideUp(function(){a(this).hide()}):a(o.wrap).css({height:"auto"}).slideDown()},populate:function(){if(s.empty){a("body").append(s.wrap);let n=a(o.button).find(o.spinner);a.ajax({url:t._url,method:"POST",data:{action:o.action,what:"list",nonce:t[e]._nonce},beforeSend:function(t){n.addClass("is-active")},success:function(t,e,i){n.removeClass("is-active"),t.success&&(a(o.wrap).find(".-content").html(t.data),s.empty=!1,s.toggle())}})}else s.toggle()}};a(function(){a(document).trigger("gEditorial:Module:Loaded",[e,"adminbar",s,s.init()])})})(jQuery,gEditorial,"drafts");