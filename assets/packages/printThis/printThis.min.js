!function(d){function l(e,t){t&&e.append(t.jquery?t.clone():t)}function p(e,t,n){var i,a,o,r=t.clone(n.formValues);n.formValues&&(i=r,a="select, textarea",o=t.find(a),i.find(a).each(function(e,t){d(t).val(o.eq(e).val())})),n.removeScripts&&r.find("script").remove(),n.printContainer?r.appendTo(e):r.each(function(){d(this).children().appendTo(e)})}var f;d.fn.printThis=function(e){f=d.extend({},d.fn.printThis.defaults,e);var t,n,s=this instanceof jQuery?this:d(this),e="printThis-"+(new Date).getTime(),c=(window.location.hostname!==document.domain&&navigator.userAgent.match(/msie/i)?(t='javascript:document.write("<head><script>document.domain=\\"'+document.domain+'\\";<\/script></head><body></body>")',(n=document.createElement("iframe")).name="printIframe",n.id=e,n.className="MSIE",document.body.appendChild(n),n.src=t):d("<iframe id='"+e+"' name='printIframe' />").appendTo("body"),d("#"+e));f.debug||c.css({position:"absolute",width:"0px",height:"0px",left:"-600px",top:"-600px"}),"function"==typeof f.beforePrint&&f.beforePrint(),setTimeout(function(){f.doctypeString&&(a=c,n=f.doctypeString,(a=(a=(a=a.get(0)).contentWindow||a.contentDocument||a).document||a.contentDocument||a).open(),a.write(n),a.close());var e,t,n=c.contents(),i=n.find("head"),a=n.find("body"),o=d("base"),o=!0===f.base&&0<o.length?o.attr("href"):"string"==typeof f.base?f.base:document.location.protocol+"//"+document.location.host,o=(i.append('<base href="'+o+'">'),f.importCSS&&d("link[rel=stylesheet]").each(function(){var e,t=d(this).attr("href");t&&(e=d(this).attr("media")||"all",i.append("<link type='text/css' rel='stylesheet' href='"+t+"' media='"+e+"'>"))}),f.importStyle&&d("style").each(function(){i.append(this.outerHTML)}),f.pageTitle&&i.append("<title>"+f.pageTitle+"</title>"),f.loadCSS&&(d.isArray(f.loadCSS)?jQuery.each(f.loadCSS,function(e,t){i.append("<link type='text/css' rel='stylesheet' href='"+this+"'>")}):i.append("<link type='text/css' rel='stylesheet' href='"+f.loadCSS+"'>")),d("html")[0]),r=(n.find("html").prop("style",o.style.cssText),f.copyTagClasses);r&&(-1!==(r=!0===r?"bh":r).indexOf("b")&&a.addClass(d("body")[0].className),-1!==r.indexOf("h"))&&n.find("html").addClass(o.className),(r=f.copyTagStyles)&&(-1!==(r=!0===r?"bh":r).indexOf("b")&&a.attr("style",d("body")[0].style.cssText),-1!==r.indexOf("h"))&&n.find("html").attr("style",o.style.cssText),l(a,f.header),f.canvas&&(e=0,s.find("canvas").addBack("canvas").each(function(){d(this).attr("data-printthis",e++)})),p(a,s,f),f.canvas&&a.find("canvas").each(function(){var e=d(this).data("printthis"),e=d('[data-printthis="'+e+'"]');this.getContext("2d").drawImage(e[0],0,0),d.isFunction(d.fn.removeAttr)?e.removeAttr("data-printthis"):d.each(e,function(e,t){t.removeAttribute("data-printthis")})}),f.removeInline&&(r=f.removeInlineSelector||"*",d.isFunction(d.removeAttr)?a.find(r).removeAttr("style"):a.find(r).attr("style","")),l(a,f.footer),o=c,t=f.beforePrintEvent,o=(o=o.get(0)).contentWindow||o.contentDocument||o,"function"==typeof t&&("matchMedia"in o?o.matchMedia("print").addListener(function(e){e.matches&&t()}):o.onbeforeprint=t),setTimeout(function(){c.hasClass("MSIE")?(window.frames.printIframe.focus(),i.append("<script>  window.print(); <\/script>")):document.queryCommandSupported("print")?c[0].contentWindow.document.execCommand("print",!1,null):(c[0].contentWindow.focus(),c[0].contentWindow.print()),f.debug||setTimeout(function(){c.remove()},1e3),"function"==typeof f.afterPrint&&f.afterPrint()},f.printDelay)},333)},d.fn.printThis.defaults={debug:!1,importCSS:!0,importStyle:!0,printContainer:!0,loadCSS:"",pageTitle:"",removeInline:!1,removeInlineSelector:"*",printDelay:1e3,header:null,footer:null,base:!1,formValues:!0,canvas:!0,doctypeString:"<!DOCTYPE html>",removeScripts:!1,copyTagClasses:!0,copyTagStyles:!0,beforePrintEvent:null,beforePrint:null,afterPrint:null}}(jQuery);